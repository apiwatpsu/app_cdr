{% extends "layout.html" %}
{% block title %}Recordings{% endblock %}

{% block content %}
<h2 class="mb-4">Call Recordings</h2>

<div class="bg-white p-4 rounded shadow-sm">
  <table id="myTable" class="table table-hover table-striped align-middle mb-0 nowrap" style="width:100%; border-collapse: collapse;">
    <thead>
      <tr>
        <th>#</th>
        <th>File Name</th>
        <th>Play</th>
        <th>Download</th>
      </tr>
    </thead>
    <tbody>
      {% for file in files %}
      <tr>
        <td>{{ loop.index }}</td>
        <td>{{ file }}</td>
        <td>
          <audio controls preload="none" style="width: 250px; height: 40px;">
            <source src="{{ url_for('play_recording', filename=file) }}" type="audio/wav">
            Your browser does not support the audio element.
          </audio>
        </td>
        <td>
          <a href="{{ url_for('play_recording', filename=file) }}" download class="btn btn-sm btn-outline-primary">
            <i class="bi bi-download"></i> Download
          </a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
