{% extends "layout.html" %}
{% block title %}Edit User{% endblock %}

{% block content %}
<div class="container mt-4">
  <h3>‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</h3>
  <form method="POST">
    <div class="mb-3">
      <label class="form-label">Username</label>
      <input type="text" class="form-control" name="username" value="{{ user.username }}" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Role</label>
      <select name="role" class="form-select" required>
        <option value="admin" {% if user.role == 'admin' %}selected{% endif %}>admin</option>
        <option value="viewer" {% if user.role == 'viewer' %}selected{% endif %}>viewer</option>
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Menu Permissions</label>
      <select name="menu_permissions" class="form-select" multiple>
        <option value="dashboard" {% if 'dashboard' in (user.menu_permissions | from_json) %}selected{% endif %}>Dashboard</option>
        <option value="report" {% if 'report' in (user.menu_permissions | from_json) %}selected{% endif %}>Report</option>
        <option value="settings" {% if 'settings' in (user.menu_permissions | from_json) %}selected{% endif %}>Settings</option>
      </select>
    </div>


    <button type="submit" class="btn btn-success">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
    <a href="{{ url_for('manage_users') }}" class="btn btn-secondary">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</a>
  </form>
</div>
{% endblock %}
